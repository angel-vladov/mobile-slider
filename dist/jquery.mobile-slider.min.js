/*! mobile-slider - v0.1.0 - 2016-02-05
* Copyright (c) 2016 Angel Vladov; Licensed MIT */
!function(a){"use strict";a.fn.mobileSlider=function(b){var c=a.extend({},a.fn.mobileSlider.defaults,b);return this.each(function(){function b(){var a=j.attr("data-item-width")||j.attr("item-width"),b=j.attr("data-slider-when")||j.attr("slider-when");a&&(c.itemWidth=a),b&&(c.sliderWhen=b)}function d(){var b='<div class="slider-dots-list">';l.each(function(c){var d=a(this);d.data("c-id",c),b+='<div class="slider-dot" data-node="'+c+'"></div>'}),b+="</ul>",m.html('<a href="" class="goto-prev"></a><a href="" class="goto-next"></a>'+b),m.on("click",".slider-dot",function(){var b=a(this).attr("data-node");f(l[b])})}function e(){for(var b=k.width()/2,c=null,d=0,e=l.length;e>d;d++){var f=a(l[d]);if(!(f.position().left<=b))break;c=f}if(!n||n[0]!==c[0]){n=c;var g=n.data("c-id"),h='[data-node="'+g+'"]';l.removeClass("active"),n.addClass("active"),m.find(".slider-dot").removeClass("active").filter(h).addClass("active")}}function f(b){b=a(b);var c=(k.width()-b.width())/2,d={duration:"400ms"};k.animate({scrollLeft:b.position().left+k.scrollLeft()-c},d),e()}function g(){m.on("click",".goto-prev",function(a){a.preventDefault();var b=n.data("c-id"),c=b-1;return 0>c&&(c=l.length-1),f(l[c]),!1}),m.on("click",".goto-next",function(a){a.preventDefault();var b=n.data("c-id"),c=(b+1)%l.length;return f(l[c]),!1})}function h(){var b=a(window).width(),d=j.hasClass("slider-active");b<=c.sliderWhen?d||(i(),p=(k.width()-l.first().width())/2,l.first().css("margin-left",p+"px"),l.last().css("margin-right",p+"px"),j.addClass("slider-active")):d&&(l.first().css("margin-left","0px"),l.last().css("margin-right","0px"),j.removeClass("slider-active"))}function i(){if(!o&&(o=!0,k=j.find("ul"),l=k.find("li"),m=a('<div class="slider-nav"></div>').appendTo(j),k.addClass("slider-content"),l.length>0)){var b=j.attr("data-item-width")||j.attr("item-width");b&&l.width(b),d(),k.on("scroll",e),e(),g();var c=l[Math.ceil(l.length/2)-1];f(c)}}var j=a(this),k=null,l=null,m=null,n=null,o=!1,p=0;b(),a(window).on("resize orientationchange",h),h()})},a.fn.mobileSlider.defaults={itemWidth:null,sliderWhen:1024},a(document).ready(function(){a(".mobile-slider").mobileSlider()})}(jQuery);