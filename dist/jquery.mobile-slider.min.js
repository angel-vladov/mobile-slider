/*! mobile-slider - v0.1.0 - 2016-02-04
* Copyright (c) 2016 Angel Vladov; Licensed MIT */
!function(a){"use strict";a.fn.mobileSlider=function(){return this.each(function(){function b(){var b='<div class="slider-dots-list">';j.each(function(c){var d=a(this);d.data("c-id",c),b+='<div class="slider-dot" data-node="'+c+'"></div>'}),b+="</ul>",k.html('<a href="" class="goto-prev"></a><a href="" class="goto-next"></a>'+b),k.on("click",".slider-dot",function(){var b=a(this).attr("data-node");e(j[b])})}function c(){for(var b=i.width()/2,c=null,d=0,e=j.length;e>d;d++){var f=a(j[d]);if(!(f.position().left<=b))break;c=f}if(!l||l[0]!==c[0]){l=c;var g=l.data("c-id"),h='[data-node="'+g+'"]';j.removeClass("active"),l.addClass("active"),k.find(".slider-dot").removeClass("active").filter(h).addClass("active")}}function d(){i.on("scroll",c)}function e(b){b=a(b);var d=(i.width()-b.width())/2,e={duration:"400ms"};i.animate({scrollLeft:b.position().left+i.scrollLeft()-d},e),c()}function f(){k.on("click",".goto-prev",function(a){a.preventDefault();var b=l.data("c-id"),c=b-1;return 0>c&&(c=j.length-1),e(j[c]),!1}),k.on("click",".goto-next",function(a){a.preventDefault();var b=l.data("c-id"),c=(b+1)%j.length;return e(j[c]),!1})}function g(){if(i=h.find(".slider-content"),j=i.find("li"),k=a('<div class="slider-nav"></div>').appendTo(h),j.length>0){var g=h.attr("data-li-width")||h.attr("li-width");g&&j.width(g);var l=(i.width()-j.first().width())/2,m=j[Math.ceil(j.length/2)-1];j.first().css("margin-left",l+"px"),j.last().css("margin-right",l+"px"),b(),d(),c(),f(),e(m)}}var h=a(this),i=null,j=null,k=null,l=null;g()})}}(jQuery);